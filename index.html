<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>PennyPincher by fe9lix</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">PennyPincher</h1>
      <h2 class="project-tagline">A fast gesture recognizer based on the PennyPincher algorithm, written in Swift.</h2>
      <a href="https://github.com/fe9lix/PennyPincher" class="btn">View on GitHub</a>
      <a href="https://github.com/fe9lix/PennyPincher/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/fe9lix/PennyPincher/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p><a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible"></a>
<a href="http://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License"></a>
<a href="https://github.com/fe9lix/PennyPincher"><img src="https://img.shields.io/badge/platform-iOS-lightgrey.svg?style=flat" alt="Platform"></a>
<a href="https://developer.apple.com/swift/blog/?id=29"><img src="https://img.shields.io/badge/swift-2.0-orange.svg" alt="Swift"></a></p>

<h1>
<a id="pennypincher" class="anchor" href="#pennypincher" aria-hidden="true"><span class="octicon octicon-link"></span></a>PennyPincher</h1>

<p><em>Penny Pincher</em> is a fast template-based gesture recognizer, developed by Eugene Taranta and Joseph LaViola (full paper reference below). The algorithm is well-suited for mobile applications since it is both fast and accurate and, as shown in the evaluation by the authors, outperforms other recognizers. This project provides a Swift implementation of <em>Penny Pincher</em> and shows its usage in a simple example project. Also, the framework contains a UIGestureRecognizer subclass that integrates well into the existing gesture recognition framework of iOS.</p>

<p>Here's the full reference for the paper:</p>

<blockquote>
<p>Eugene M. Taranta, II and Joseph J. LaViola, Jr.. 2015. Penny pincher: a blazing fast, highly accurate $-family recognizer. In Proceedings of the 41st Graphics Interface Conference (GI '15). Canadian Information Processing Society, Toronto, Ont., Canada, Canada, 195-202.</p>
</blockquote>

<h2>
<a id="demo" class="anchor" href="#demo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Demo</h2>

<p><img src="https://github.com/fe9lix/PennyPincher/raw/gh-pages/images/pennypincher.gif?raw=true" alt="PennyPincher"></p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>

<p><em>&gt;=</em> iOS 8, Xcode 7, Swift 2.0</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Recommended installation options are via Carthage or manual installation.</p>

<h3>
<a id="carthage" class="anchor" href="#carthage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Carthage:</h3>

<p>PennyPincher supports installation via <a href="https://github.com/Carthage/Carthage">Carthage</a>:</p>

<ul>
<li>Add the following line to your Cartfile: <code>github "fe9lix/PennyPincher" &gt;= 1.0</code>
</li>
<li>Run <code>carthage update</code>
</li>
</ul>

<h3>
<a id="manual" class="anchor" href="#manual" aria-hidden="true"><span class="octicon octicon-link"></span></a>Manual:</h3>

<ul>
<li>Drag the folder <code>PennyPincherExample/Carthage/Build/iOS/PennyPincher.framework</code> into your Xcode project and select "Copy items if needed".</li>
<li>Make sure that the framework is added under <code>Embedded Binaries</code> in the general section of your project's target settings.</li>
</ul>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Please see the <code>ViewController</code> of the example project on how to use PennyPincher. Although you can use the <code>PennyPincher</code> class directly, the easiest way is to instantiate its gesture recognizer class, configure it, and add it to a view:</p>

<div class="highlight highlight-swift"><pre><span class="pl-k">let</span> pennyPincherGestureRecognizer <span class="pl-k">=</span> PennyPincherGestureRecognizer()
pennyPincherGestureRecognizer<span class="pl-k">.</span>enableMultipleStrokes <span class="pl-k">=</span> <span class="pl-c1">true</span>
pennyPincherGestureRecognizer<span class="pl-k">.</span>allowedTimeBetweenMultipleStrokes <span class="pl-k">=</span> <span class="pl-c1">0</span><span class="pl-k">.</span><span class="pl-c1">2</span>
pennyPincherGestureRecognizer<span class="pl-k">.</span>cancelsTouchesInView <span class="pl-k">=</span> <span class="pl-c1">false</span>
pennyPincherGestureRecognizer<span class="pl-k">.</span>addTarget(<span class="pl-k">self</span>, action: <span class="pl-s"><span class="pl-pds">"</span>didRecognize:<span class="pl-pds">"</span></span>)

view<span class="pl-k">.</span>addGestureRecognizer(pennyPincherGestureRecognizer)</pre></div>

<p>In the code above, the following properties are set:</p>

<ul>
<li>
<code>enableMultipleStrokes</code>: Allows gestures to be composed of multiple separate strokes, as long as the pause between strokes does not exceed <code>allowedTimeBetweenMultipleStrokes</code>. When the property is set to <code>false</code>, the gesture recognizer transitions to the cancelled state as soon as the user lifts the finger.</li>
<li>
<code>allowedTimeBetweenMultipleStrokes</code>: See above.</li>
<li>
<code>cancelsTouchesInView</code>: Regular iOS gesture recongizer property. Might be set to <code>false</code> when you want to ensure that touches are still delivered to the attached view. </li>
</ul>

<p>The target-action pair is executed for state changes triggered by the recognizer. You can use the <code>state</code> property to react accordingly in the UI. The <code>result</code> property returns a tuple consisting of the recognized <code>PennyPincherTemplate</code> and CGFloat value indicating the similarity. For example:</p>

<div class="highlight highlight-swift"><pre><span class="pl-k">guard</span> <span class="pl-k">let</span> (template, similarity) <span class="pl-k">=</span> pennyPincherGestureRecognizer<span class="pl-k">.</span>result <span class="pl-k">else</span> {
    <span class="pl-c1">print</span>(<span class="pl-s"><span class="pl-pds">"</span>Could not recognize.<span class="pl-pds">"</span></span>)
    <span class="pl-k">return</span>
}

<span class="pl-k">let</span> similarityString <span class="pl-k">=</span> <span class="pl-c1">String</span>(format: <span class="pl-s"><span class="pl-pds">"</span>%.2f<span class="pl-pds">"</span></span>, similarity)
<span class="pl-c1">print</span>(<span class="pl-s"><span class="pl-pds">"</span>Template: <span class="pl-pse">\(</span><span class="pl-s1">template<span class="pl-k">.</span>id</span><span class="pl-pse">)</span>, Similarity: <span class="pl-pse">\(</span><span class="pl-s1">similarityString</span><span class="pl-pse">)</span><span class="pl-pds">"</span></span>)</pre></div>

<p>You can add and remove templates by modifying the <code>templates</code> array property of the recognizer. The <code>PennyPincher</code> class provides a static method to create new templates of type <code>PennyPincherTemplate</code> (a struct). Required parameters are the <code>id</code> (a unique string) and <code>points</code> (an array of CGPoints).</p>

<p>For example:</p>

<div class="highlight highlight-swift"><pre><span class="pl-k">let</span> template <span class="pl-k">=</span> PennyPincher<span class="pl-k">.</span>createTemplate(<span class="pl-s"><span class="pl-pds">"</span>templateID<span class="pl-pds">"</span></span>, points: points)
pennyPincherGestureRecognizer<span class="pl-k">.</span>templates<span class="pl-k">.</span>append(template)</pre></div>

<p>Templates could be serialized and saved to disk and then loaded again into memory when the application launches. PennyPincher works pretty well with only one template per gesture (<code>id</code>) but, depending on your use case, you can increase its accuracy by adding more for each gesture.</p>

<h2>
<a id="author" class="anchor" href="#author" aria-hidden="true"><span class="octicon octicon-link"></span></a>Author</h2>

<p>fe9lix</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>PennyPincher is available under the MIT license. See the LICENSE file for more info.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/fe9lix/PennyPincher">PennyPincher</a> is maintained by <a href="https://github.com/fe9lix">fe9lix</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
